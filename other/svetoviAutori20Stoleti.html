<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Čeští autoři 19. století</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        .container,
        #stats {
            background-color: #1e1e1e;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            max-width: 90%;
            width: 360px;
            margin-bottom: 20px;
            text-align: center;
        }

        h1,
        h2 {
            color: #FFEB3B;
        }

        input,
        button {
            width: 100%;
            max-width: 320px;
            padding: 12px;
            margin-top: 10px;
            border-radius: 8px;
            font-size: 16px;
            border: none;
        }

        input {
            background-color: #333;
            color: #e0e0e0;
        }

        button {
            background-color: #FFEB3B;
            color: #121212;
            cursor: pointer;
        }

        button:hover {
            background-color: #FFCA28;
        }

        .correct {
            color: #4CAF50;
            font-weight: bold;
        }

        .incorrect {
            color: #F44336;
            font-weight: bold;
        }

        ul li {
            margin-bottom: 10px;
        }

        table {
            width: 100%;
            margin-top: 10px;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 8px;
            text-align: center;
            border: 1px solid #333;
        }

        #answersList ul {
            list-style-type: none;
            padding: 0;
        }

        #fact ul {
            list-style-type: none;
            padding-left: 0;
        }

        /* --- Přidáno pro rozsah směrů --- */
        .range-container {
            background-color: #1e1e1e;
            border-radius: 10px;
            padding: 40px;
            width: 360px;
            max-width: 90%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-bottom: 20px;
        }

        .range-container label {
            margin-top: 10px;
            margin-bottom: 5px;
            color: #FFEB3B;
        }

        .range-container input[type="number"] {
            width: 100%;
            max-width: 320px;
            padding: 12px;
            margin-bottom: 20px;
            font-size: 16px;
            border-radius: 8px;
            border: 2px solid #333;
            background-color: #333;
            color: #e0e0e0;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .range-container input[type="number"]:focus {
            border-color: #FFEB3B;
        }

        .range-container button {
            width: 100%;
            max-width: 320px;
            padding: 15px;
            font-size: 18px;
            cursor: pointer;
            background-color: #FFEB3B;
            color: #121212;
            border: none;
            border-radius: 8px;
            margin-top: 10px;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .range-container button:hover {
            background-color: #FFCA28;
        }

        .range-container button:active {
            background-color: #FFB300;
            box-shadow: none;
        }

        /* --- konec přidaného CSS --- */

        /* --- Přidáno pro layout vedle sebe --- */
        .layout-container {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
        }

        @media (max-width: 768px) {
            body {
                height: auto;
                min-height: 100vh;
                overflow-x: hidden;
            }

            .layout-container {
                flex-direction: column;
                align-items: center;
                width: 100vw;
                min-width: 0;
                padding: 0 5vw;
                box-sizing: border-box;
            }

            .container,
            #stats,
            .range-container {
                width: 100%;
                min-width: 0;
                margin-bottom: 20px;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }

            .range-container {
                margin-top: 0;
                margin-bottom: 20px;
                position: relative;
                z-index: 2;
            }
        }

        /* --- konec přidaného CSS --- */

        #directionInput {
            display: block;
            margin: 0 auto 20px auto;
            width: 220px;
            max-width: 90%;
            text-align: center;
        }

        .back-button {
            position: fixed;
            left: 20px;
            bottom: 20px;
            background-color: #FFEB3B;
            color: #121212;
            padding: 15px 24px;
            font-size: 18px;
            font-weight: bolder;
            border-radius: 8px;
            text-decoration: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s;
            z-index: 100;
        }

        .back-button:hover {
            background-color: #FFCA28;
        }

        .back-button:active {
            background-color: #FFB300;
            box-shadow: none;
        }
    </style>
</head>

<body>
    <div class="layout-container">
        <!-- Přidáno: Nastavení rozsahu -->
        <div class="range-container">
            <h2>Nastavení rozsahu</h2>
            <label for="startRange">Začátek rozsahu:</label>
            <input type="number" id="startRange" min="1" max="19" value="1" />
            <span id="startName" style="color:#FFEB3B;font-weight:bold;display:block;margin-bottom:10px;"></span>
            <label for="endRange">Konec rozsahu (max: <span id="maxDirections"></span>):</label>
            <input type="number" id="endRange" min="1" max="19" value="19" />
            <span id="endName" style="color:#FFEB3B;font-weight:bold;display:block;margin-bottom:10px;"></span>
            <button onclick="setDirectionRange()">Nastavit rozsah</button>
            <label for="factCount" style="margin-top:30px;">Počet odrážek:</label>
            <input type="number" id="factCount" min="1" max="10" value="2" style="width:80px; margin-bottom:10px;" />
        </div>

        <div class="container">
            <h1>Test</h1>
            <p id="fact"></p>
            <input type="text" id="directionInput" placeholder="Womp Womp" onkeydown="checkEnter(event)">
            <button onclick="checkAnswer()">Zkontrolovat</button>
            <p id="result"></p>
        </div>

        <div id="stats">
            <h2>Statistiky</h2>
            <table>
                <tr>
                    <th>Správně</th>
                    <th>Špatně</th>
                </tr>
                <tr>
                    <td id="correctCount">0</td>
                    <td id="incorrectCount">0</td>
                </tr>
            </table>
            <div id="answersList">
                <p><strong>Seznam správných odpovědí:</strong></p>
                <ul id="correctAnswersList"></ul>
            </div>
        </div>
    </div>
    <a href="../index.html" class="back-button">Zpět na úvod</a>
    <script>
        function normalizeString(str) {
            return str.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        }
        const directions = [
            {
                name: "Thomas Mann",
                facts: [
                    "-	německý prozaik židovského původu",
                    "v tvorbě důraz na humanitu",
                    "po nástupu Hitlera k moci odešel do exilu (ČSR, Švýcarsko, USA) – jeho knihy byly v Německu veřejně páleny",
                    "1929 získal Nobelovu cenu za literaturu",
                    "i jeho bratr Heinrich byl uznávaný spisovatel",
                    "BUDDENBROOKOVI",
                    "Smrt v Benátkách",
                    "Kouzelný vrch - v alpském sanatoriu pred 1. sv. válkou se lécí pacienti ruzných národností, s blížící se 1. sv. válkou i mezi nimi dochází k castejším konfliktum", 
                ],
            },   
            {
                name: "Guillaume Apollinaire",
                facts: [
                    "jeden ze zakladatelu avantgardy, ranen za 1. sv. války",
                    "1918 zemrel na španelskou chripku",
                    "řazen ke kubismu a pozdeji k futurismu, vymyslel název pro surrealismus",
                    "Alkoholy - základ moderní poezie - úvodní básen Pásmo - do té doby bežné rozvíjení jedné myšlenky (obrazu) nahradil volným pásmem nesouvislých predstav", 
                ],
            },   
            {
                name: "James Joyce",
                facts: [
                    "prozaik irského puvodu",
                    "žil dlouhodobe ve Francii a ovládal pres 10 jazyku",
                    "jeden z hlavních experimentátoru s románem",
                    "Odysseus - nejslavnejší, jeden den normálního cloveka Leopolda Blooma zachycený v osmnácti kapitolách, které odpovídají osmnácti príbehum reckého hrdiny, záver: normální život je stejne neopakovatelný a veliký jako ty neslavnejší eposy",   
                ],
            },   
                {
                    name: "Franz Kafka",
                facts: [
                    "jeden z nejvýznamnejších svetových prozaiku",
                    "z pražské židovské rodiny",
                    "psal nemecky",
                    "predchudce existencialismu, hlavní hrdinové bezvýchodne bloudí, neustálý strach z autority (neceho silnejšího)",
                    "Promena - jednoho dne se Rehor Samsa probudí jako odporný hmyz a všichni ho zavrhnou",
                    "Proces - s Josefem K. je veden nesmyslný proces; neví, z ceho je obvinen",
                    "Zámek - zememeric K. se snaží dostat na zámek"
                ],
            },   
            {
                name: "Boris Pasternak",
                facts: [
                    "ruský básník a dramatik",
                    "básne ovlivneny symbolismem a futurismem",
                    "problémy se Stalinem, ocekával zatcení",
                    "Doktor Živago - životní kniha - osudy humanisticky smýšlejícího intelektuála v Rusku kolem 1. sv. války, pak za revoluce a obcanské války" 
                     
                ],
            },   
            {
                name: "Michail Bulgakov",
                facts: [
                    "ruský lékař, žurnalista a dramaturg",
                    "řazen k magickému realismu",
                    "nejznámější román – Mistr a Markétka – dvě dějové linie (1. v Moskvě se zjeví za vlády bolševiků Ďábel, 2. příběh odsouzení Ježíše Krista Pilátem Pontským)",
                ],
              },   
            {
                name: "Erich Maria Remarque",
                facts: [
                    "německý prozaik",
                    "jako dobrovolník po maturitě narukoval do 1. sv. války ",
                    "autor asi nejznámějšího antimilitaristického románu Na západní frontě klid – Paul Bäumer hned po maturitě narukuje na frontu, realisticky ukázána buzerace ve výcviku, pak postupně umírají jeho kamarádi, až v samotném závěru padne i on",
                    "odešel do exilu ve Švýcarsku a USA",
                    "nacisti jeho knihy pálili",      
                    "někdy řazen ke ztracené generaci",      
                ],
            },   
            {
                name: "Ernest Hemingway",
                facts: [
                    "nejznámější příslušník ztracené generace ",
                    "dobrovolník v 1. sv. válce, dopisovatel ze španělské občanské války",
                    "dlouho žil na Kubě",
                    "psal tzv. metodou ledovce – nad hladinou je menší část, co není vidět, si musí člověk domyslet",
                    "Sbohem, armádo – láska mezi ošetřovatelkou a raněným během 1. sv. války, po válce se přestěhují do neutrálního Švýcarska, ale i tam deprese z války",      
                    "Komu zvoní hrana – partyzánský odboj za španělské občanské války (1936-1939)",      
                    "Stařec a moře – stařec Santiago uloví velkou rybu, ale žraloci mu ji během zpáteční cesty sežerou",      
                    "humanistické poslání – udělej, co můžeš, bez ohledu na výsledek ",
                ],
            },   
            {
                name: "John Steinbeck",
                facts: [
                    "americký spisovatel, žil v Kalifornii",
                    "zpracovával hlavně sociální témata",
                    "obdržel Nobelovu cenu za literaturu v roce 1962",
                    "Hrozny hněvu – osud farmářské rodiny za hospodářské krize, přijdou o veškerý majetek, vede k rozpadu rodiny",
                    "O myších a lidech – dva námezdní dělníci se nechávají najímat na podřadné práce, jeden z nich je slaboduchý",
                ],
            },   
            {
                name: "George Orwell",
                facts: [
                    "vlastním jménem Eric Arthur Blair",
                    "anglický novinář narozen v Indii",
                    "známý svými protikolonialistickými postoji",
                    "kritik totalitních států (fašistických a komunistických)",
                    "Zvířecí farma – alegorická bajka, zvířata provedou revoluci (VŘSR) a začnou vládnout prasata (Stalin)",
                    "1984 – utopický román o totalitním státě, který řídí Velký bratr a jedna strana",
                ],
            },   
            {
                name: "Samuel Beckett",
                facts: [
                    "irský prozaik a dramatik",
                    "trvale žil ve Francii, psal francouzsky",
                    "řazen k absurdnímu dramatu a novému románu (anti-román)",
                    "Čekání na Godota – dva tuláci čekají na někoho, kdo má změnit jejich život, místo toho, aby něco udělali, vedou nesmyslné dialogy",
                ],
            },   
            {
                name: "Tennessee Williams",
                facts: [
                    "americký dramatik pocházející z jihu USA",
                    "psal psychologická dramata",
                    "Kočka na rozpálené plechové střeše – dialogické drama, v bohaté rodině, manžel se už jenom uchlastává, manželka (Margareta) se ho snaží dostat z letargie",
                    "Tramvaj do stanice touha "    
                ],
            },   
            {
                name: "Albert Camus",
                facts: [
                    "jeden z nejznámějších představitelů existencialismu",
                    "vyrůstal v Alžírsku, patřilo v té době Francii",
                    "1957 obdržel Nobelovu cenu za literaturu, kterou přijal; Sartre ji odmítnul",
                    "Cizinec – dvě části ",
                    "1.  zastřelí v hádce Araba",      
                    "2. soudní proces, který ho vlastně moc nezajímá, přijímá smrt bez větších emocí",
                    "Mor, Mýtus o Sisyfovi"
                ],
            },   
            {
                name: "Alexander Solženicyn",
                facts: [
                    "ruský držitel Nobelovy ceny za literaturu",
                    "za kritiku Stalina vězněn v gulagu, později v 70. letech vypovězen ze SSSR",
                    "jeden z nejznámějších kritiků komunistického totalitního státu",
                    "Souostroví Gulag – vznik, vývoj a popis táborů nucených prací v sovětském Rusku",
                    "Jeden den Ivana Děnisoviče – popis jednoho dne v táboře na Sibiři",
                ],
            },   
            {
                name: "Friendrich Dürrenmatt",
                facts: [
                    "německý píšící švýcarský dramatik",
                    "řazen k absurdnímu dramatu, ale měl blízko k expresionismu",
                    "Návštěva staré dámy – bývalá obyvatelka dá městu miliardu, když zabijí jejího bývalého milence, který ji opustil, když s ním měla dítě",     
                ],
            },   
            {
                name: "Jack Kerouac",
                facts: [
                    "nejpopulárnější beatnik, on je označil za beat generation",
                    "jako tulák procestoval Ameriku",
                    "dost pil a bral drogy",
                    "fixován na svou matku ",
                    "Na cestě – bible beatniků", 
                    " cestují z východu USA na západ, nespoutaný život, chlastají, berou drogy a dělají takové ty věci jako dva oslíci ve stáji, když jsou každý jiného pohlaví", 
                ],
            },
                        {
                name: "William Styron",
                facts: [
                    "americký prozaik pocházející z jihu USA",
                    "psal psychologické romány",
                    "Sophiina volba – krásná Polka si musí vybrat v Osvětimi, které její dítě pošlou do plynu a které může přežít",     
                ],
            },
                        {
                name: "Gabriel García Márquez",
                facts: [
                    "kolumbijský prozaik",
                    "nejvýznamnější představitel magického realismu",
                    "1982 dostal Nobelovu cenu za literaturu",
                    "Sto roků samoty  - příběh jedné vesnice, vlastně Latinské Ameriky, od založení až po její zánik, celá řada příběhů a postav, které pojí pocit samoty",  
                ],
            },
                        {
                name: "Umberto Eco",
                facts: [
                    "italský profesor sémiologie, nauka o znaku a znakových systémech",
                    "nejznámější představitel literární postmoderny",
                    "Jméno růže – tajemný příběh o vyšetřování záhadných vražd mnichů v klášteře ve středověku",     
                ],
            },
        ];
        let currentDirection = null;
        let correctCount = 0;
        let incorrectCount = 0;
        let selectedDirections = directions; // Výchozí seznam směrů
        let previousDirectionsQueue = []; // Fronta pro sledování předchozích směrů
        let factCount = 2;

        // Přidáno: Nastavení rozsahu směrů
        function setDirectionRange() {
            const start = parseInt(document.getElementById("startRange").value, 10);
            const end = parseInt(document.getElementById("endRange").value, 10);

            if (start >= 1 && end <= directions.length && start < end) {
                selectedDirections = directions.slice(start - 1, end);
                currentDirection = getNextDirection();
                displayDirectionInfo(currentDirection);
            } else if (start === end) {
                alert("Začátek a konec rozsahu se nesmí rovnat!");
            } else {
                alert("Zadejte platný rozsah!");
            }
        }

        function updateRangeNames() {
            const start = parseInt(document.getElementById("startRange").value, 10);
            const end = parseInt(document.getElementById("endRange").value, 10);
            const startName = (directions[start-1] && directions[start-1].name) ? directions[start-1].name : "";
            const endName = (directions[end-1] && directions[end-1].name) ? directions[end-1].name : "";
            document.getElementById("startName").textContent = startName ? `${startName}` : "";
            document.getElementById("endName").textContent = endName ? `${endName}` : "";
        }
        document.getElementById("startRange").addEventListener("input", updateRangeNames);
        document.getElementById("endRange").addEventListener("input", updateRangeNames);
        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("maxDirections").textContent = directions.length;
            updateRangeNames();
        });

        // Nastavení maximálního počtu směrů v popisku
        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("maxDirections").textContent = directions.length;
        });

        function getNextDirection() {
            const maxQueueLength = Math.ceil(selectedDirections.length / 2); // Dynamická délka fronty
            let dir;
            do {
                dir = selectedDirections[Math.floor(Math.random() * selectedDirections.length)];
            } while (previousDirectionsQueue.includes(dir) && selectedDirections.length > 4);

            // Přidáme směr do fronty a udržujeme maximální délku
            previousDirectionsQueue.push(dir);
            if (previousDirectionsQueue.length > maxQueueLength) {
                previousDirectionsQueue.shift(); // Odstraní nejstarší směr z fronty
            }

            return dir;
        }

        function getRandomFacts(facts, count) {
            const shuffled = facts.slice().sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        document.getElementById("factCount").addEventListener("input", function(e) {
            let val = parseInt(e.target.value, 10);
            if (val >= 1 && val <= 10) {
                factCount = val;
                displayDirectionInfo(currentDirection);
            }
        });

        function displayDirectionInfo(dir) {
            const factElement = document.getElementById("fact");
            factElement.innerHTML = "";
            const factList = document.createElement("ul");
            const randomFacts = getRandomFacts(dir.facts, factCount);
            randomFacts.forEach(fact => {
                const listItem = document.createElement("li");
                listItem.textContent = fact;
                factList.appendChild(listItem);
            });
            if (dir.mainWorks) {
                const mainWorksItem = document.createElement("li");
                mainWorksItem.textContent = dir.mainWorks;
                factList.appendChild(mainWorksItem);
            }
            factElement.appendChild(factList);
        }

        function checkAnswer() {
            const userAnswer = normalizeString(document.getElementById("directionInput").value.trim());
            const correctAnswer = normalizeString(currentDirection.name);
            const alternativeAnswer = normalizeString(currentDirection.name.split(" (")[0]); // Jméno bez závorky
            const result = document.getElementById("result");

            if (userAnswer === correctAnswer || userAnswer === alternativeAnswer) {
                result.textContent = "Správně!";
                result.className = "correct";
                correctCount++;
                document.getElementById("correctCount").textContent = correctCount;

                // --- Změna: přidání/aktualizace počtu správných odpovědí ---
                const correctList = document.getElementById("correctAnswersList");
                let found = false;
                for (let li of correctList.children) {
                    if (li.dataset.name === currentDirection.name) {
                        let count = parseInt(li.dataset.count, 10) + 1;
                        li.dataset.count = count;
                        li.textContent = `${currentDirection.name} (${count}×)`;
                        found = true;
                        break;
                    }
                }
                if (!found) {
                    const listItem = document.createElement("li");
                    listItem.textContent = `${currentDirection.name} (1×)`;
                    listItem.dataset.name = currentDirection.name;
                    listItem.dataset.count = "1";
                    correctList.appendChild(listItem);
                }
                // --- konec změny ---
            } else {
                result.textContent = `Špatně! Správná odpověď: ${currentDirection.name}`;
                result.className = "incorrect";
                incorrectCount++;
                document.getElementById("incorrectCount").textContent = incorrectCount;
            }

            document.getElementById("directionInput").value = "";
            currentDirection = getNextDirection();
            displayDirectionInfo(currentDirection);
        }

        function checkEnter(e) {
            if (e.key === "Enter") checkAnswer();
        }

        // Načtení první otázky
        currentDirection = getNextDirection();
        displayDirectionInfo(currentDirection);
    </script>
</body>

</html>
