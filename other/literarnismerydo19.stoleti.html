<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Literární směry do 19. století</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        .container,
        #stats {
            background-color: #1e1e1e;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            max-width: 90%;
            width: 360px;
            margin-bottom: 20px;
            text-align: center;
        }

        h1,
        h2 {
            color: #FFEB3B;
        }

        input,
        button {
            width: 100%;
            max-width: 320px;
            padding: 12px;
            margin-top: 10px;
            border-radius: 8px;
            font-size: 16px;
            border: none;
        }

        input {
            background-color: #333;
            color: #e0e0e0;
        }

        button {
            background-color: #FFEB3B;
            color: #121212;
            cursor: pointer;
        }

        button:hover {
            background-color: #FFCA28;
        }

        .correct {
            color: #4CAF50;
            font-weight: bold;
        }

        .incorrect {
            color: #F44336;
            font-weight: bold;
        }

        ul li {
            margin-bottom: 10px;
        }

        table {
            width: 100%;
            margin-top: 10px;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 8px;
            text-align: center;
            border: 1px solid #333;
        }

        #answersList ul {
            list-style-type: none;
            padding: 0;
        }

        #fact ul {
            list-style-type: none;
            padding-left: 0;
        }

        /* --- Přidáno pro rozsah směrů --- */
        .range-container {
            background-color: #1e1e1e;
            border-radius: 10px;
            padding: 40px;
            width: 360px;
            max-width: 90%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-bottom: 20px;
        }

        .range-container label {
            margin-top: 10px;
            margin-bottom: 5px;
            color: #FFEB3B;
        }

        .range-container input[type="number"] {
            width: 100%;
            max-width: 320px;
            padding: 12px;
            margin-bottom: 20px;
            font-size: 16px;
            border-radius: 8px;
            border: 2px solid #333;
            background-color: #333;
            color: #e0e0e0;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .range-container input[type="number"]:focus {
            border-color: #FFEB3B;
        }

        .range-container button {
            width: 100%;
            max-width: 320px;
            padding: 15px;
            font-size: 18px;
            cursor: pointer;
            background-color: #FFEB3B;
            color: #121212;
            border: none;
            border-radius: 8px;
            margin-top: 10px;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .range-container button:hover {
            background-color: #FFCA28;
        }

        .range-container button:active {
            background-color: #FFB300;
            box-shadow: none;
        }

        /* --- konec přidaného CSS --- */

        /* --- Přidáno pro layout vedle sebe --- */
        .layout-container {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
        }

        @media (max-width: 768px) {
            body {
                height: auto;
                min-height: 100vh;
                overflow-x: hidden;
            }

            .layout-container {
                flex-direction: column;
                align-items: center;
                width: 100vw;
                min-width: 0;
                padding: 0 5vw;
                box-sizing: border-box;
            }

            .container,
            #stats,
            .range-container {
                width: 100%;
                min-width: 0;
                margin-bottom: 20px;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }

            .range-container {
                margin-top: 0;
                margin-bottom: 20px;
                position: relative;
                z-index: 2;
            }
        }

        /* --- konec přidaného CSS --- */

        #directionInput {
            display: block;
            margin: 0 auto 20px auto;
            width: 220px;
            max-width: 90%;
            text-align: center;
        }

        .back-button {
            position: fixed;
            left: 20px;
            bottom: 20px;
            background-color: #FFEB3B;
            color: #121212;
            padding: 15px 24px;
            font-size: 18px;
            font-weight: bolder;
            border-radius: 8px;
            text-decoration: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s;
            z-index: 100;
        }

        .back-button:hover {
            background-color: #FFCA28;
        }

        .back-button:active {
            background-color: #FFB300;
            box-shadow: none;
        }
    </style>
</head>

<body>
    <div class="layout-container">
        <!-- Přidáno: Nastavení rozsahu -->
        <div class="range-container">
            <h2>Nastavení rozsahu</h2>
            <label for="startRange">Začátek rozsahu:</label>
            <input type="number" id="startRange" min="1" max="17" value="1" />
            <span id="startName" style="color:#FFEB3B;font-weight:bold;display:block;margin-bottom:10px;"></span>
            <label for="endRange">Konec rozsahu (max: <span id="maxDirections"></span>):</label>
            <input type="number" id="endRange" min="1" max="17" value="17" />
            <span id="endName" style="color:#FFEB3B;font-weight:bold;display:block;margin-bottom:10px;"></span>
            <button onclick="setDirectionRange()">Nastavit rozsah</button>
            <label for="factCount" style="margin-top:30px;">Počet odrážek:</label>
            <input type="number" id="factCount" min="1" max="10" value="2" style="width:80px; margin-bottom:10px;" />
        </div>

        <div class="container">
            <h1>Test</h1>
            <p id="fact"></p>
            <input type="text" id="directionInput" placeholder="Womp Womp" onkeydown="checkEnter(event)">
            <button onclick="checkAnswer()">Zkontrolovat</button>
            <p id="result"></p>
        </div>

        <div id="stats">
            <h2>Statistiky</h2>
            <table>
                <tr>
                    <th>Správně</th>
                    <th>Špatně</th>
                </tr>
                <tr>
                    <td id="correctCount">0</td>
                    <td id="incorrectCount">0</td>
                </tr>
            </table>
            <div id="answersList">
                <p><strong>Seznam správných odpovědí:</strong></p>
                <ul id="correctAnswersList"></ul>
            </div>
        </div>
    </div>
    <a href="../index.html" class="back-button">Zpět na úvod</a>
    <script>
        function normalizeString(str) {
            return str.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        }
        const directions = [
            {
                name: "Antika",
                facts: [
                    "kultura Řecka a Říma",
                    "v centru pozornosti stojí člověk, i bohové (mytologie) mají dobré a zlé lidské vlastnosti",
                    "vzniklo drama, Sofokles zavedl 3. herce - král Oidipus",
                    "hrdinské eposy (Homér - Ilias, Odysseia)",
                    "bajky (Ezop)",
                    "milostná poezie - Publius Ovidius Naso - Proměny - 250 řeckých a římských bájí s motivem proměny sepsanýcn do básní",
                ]
            },
            {
                name: "Středověk",
                facts: [
                    "476 - 1492 našeho letopočtu",
                    "umění spojeno s křesťanstvím, v hlavním zájmu stojí Bůh (Bible), svatí (legendy - Život Konstantina a Metoděje, Kristiánova legenda - druhá polovina 10. století, o sv. Václavu) motlidby, náboženské písně (Hospodine, pomiluj ny), spása",
                    "vedke cárjevbá vzniká i světská literatura (hrdinské eposy - píseň o Rolandovi, Alexandreida), kroniky (Kosmova Kronika česká - psána latinsky z 12. století, Kronika tak řečeného Dalimila - od příchodu praotce Čecha ke korunovaci Jana Lucemburského 1310)",
                    "básnické spory - Podkoní a žák - kolem roku 1400, hádají se, kdo je na tom líp",
                    "drama - Mastičkář - komedie, parodie velikonočních her",
                    "ke konci středověku vystupují církevní reformátoři - Jan Hus",
                    ]
            },
            {
                name: "Renesance a humanismus",
                facts: [
                    "14. - 16. století, vznikla v Itálii",
                    "znovuzrození antiky, znovu je věnován hlavní zájem člověku (středověk = Bůh)",
                    "píše se milostná poezie, zachycuje se člověk (Michelangelo - socha Davida)",
                    "Dante Alighieri - Božská komedie",
                    "Francesco Petrarca - Sonety Lauře - 366 milostných básní",
                    "Giovanni Boccaccio – Dekameron – 100 erotických novel",
                    "Francois Villon – villonská balada, kritik společnosti",
                    "Miguel de Cervantes – Důmyslný rytíř Don Quijote de la Mancha – parodie rytířských románů",
                    "William Shakespeare – nejlepší dramatik ",
                    "česká renesance byla zpožděná a vypadala trochu jinak; bez zábavné (o ženských) části, měla naučný charakter – cestopisy a kroniky – Václav Hájek z Libočan - Kronika česká",
                ]
            },
            {
                name: "Baroko",
                facts: [
                    "druhá polovina 16. - 18. století, vzniklo v Itálii",
                    "hlavním tématem je zase Bůh, tedy náboženství, spása člověka, motiv pomíjivosti a marnosti",
                    "typické útvary - legendy, duchovní písně (kancionály), kazatelství",
                    "nedokonalost člověka je konfrontována s Boží dokonalostí (Bedřich Břidel - Co Bůh? Člověk?)",
                    "Jan Amos Komenský - jako člen jednoty bratrské musel odejít do exilu, evropský známa postava díky pedagogické činnosti",
                ]
            },
            {
                name: "Klasicismus",
                facts: [
                    "2. pol. 17. století - 18. století, vznikl ve Francii",
                    "classicus = vzorový, vzorem je v evropské kultuře to nejstarší, tedy antika, a klasicismus je návrat k ní, ale spojen s racionalismem (člověk se chová rozumně)",
                    "spojen s vládou Ludvíka XIV",
                    "dělení na vysoké a nízké žánry",
                    "vysoké: óda, epos, tragédie (musely být veršované)",
                    "nízké: komedie- Moliére, bajka, satira",
                ]
            },
            {
                name: "Osvícenství",
                facts: [
                    "18. století, Francie, Anglie",
                    "zdrojem poznání je rozum, společnost je možno změnit k lepšímu",
                    "hlavními nepřáteli jsou absolutismus (král, šlechta) a cítkev",
                    "vydávali Encyklopedii čili racionální slovník věd, umění a řemesel",
                    "Voltaire - za své názory byl vězněn, žil v exilu, Pojednání o snášenlivosti, Candide neboli optimismus - filozofický román",
                ]
            },
            {
                name: "Preromantismus",
                facts: [
                    "2. pol. 18. století",
                    "pre znamená před, přechod k romantismu",
                    "proti racionalismu (osvícenství) staví cit (lásku)",
                    "je proti klasicistním estetickým zásadám (rozdělení na vyšší a nižší žánry)",
                    "Johann Wolfgang Goethe - Utrpení mladého Werthera - z nešťastné lásky spáchal sebevraždu"
                ]
            },
            {
                name: "Romantismus",
                facts: [
                    "první polovina 19. století nebo 1789 - 1848, tedy ohraničen dvěma revolucemi",
                    "proti rozumu stojí cit, většinou nešťastná láska",
                    "výjímečný jedinec je omezován společností, je výjimečný původem (nalezenec, šlechtic), životem (tulák, loupežník, samotář)",
                    "bojuje i za svobodu svého národa",
                    "mají rádi minulost (historické romány), protože jsou nespokojeni se svou dobou",
                    "Walter Scott – Ivanhoe",
                    "Jane Austenová – psala tzv. rodinné romány, Pýcha a předsudek",
                    "Alexandr Sergejevič Puškin – Evžen Oněgin",
                    "Victor Hugo – Chrám Matky boží v Paříži, Bídníci",
                    "Alexandre Dumas (starší) – Tři mušketýři, Hrabě Monte Christo",
                    "Edgar Allan Poe – zakladatel detektivky a hororu, Havran, Jáma a kyvadlo",
                    "Karel Hynek Mácha – Máj",
                    "Karel Jaromír Erben - Kytice",
                ]
            },
            {
                name: "Realismus",
                facts: [
                    "druhá polovina 19. století",
                    "realis znamená skutečný, opak romantismu, snaží se zachytit skutečný svět",
                    "zachycuje běžné lidi napříč celou společností od nejvyšších po nejnižší vrstvy",
                    "typickým útvarem je román - časté zápletky - nevěra, alkoholismus, kariérismus",
                    "zachycují běžnou mluvu - hovorový jazyk, nářečí",
                    "Charles Dickens - Oliver Twist",
                    "Honoré de Balzac – Otec Goriot",
                    "Gustave Flaubert – Paní Bovaryová",
                    "Nikolaj Vasiljevič Gogol – Revizor, Mrtvé duše",
                    "Lev Nikolajevič Tolstoj – Vojna a mír, Anna Karenina",
                    "Fjodor Michajlovič Dostojevskij – Zločin a trest, Idiot",
                    "Henrik Ibsen – Nora",
                    "Anton Pavlovič Čechov – Tři sestry",
                    "Alois Jirásek – Proti všem",
                    "Alois a Vilém Mrštíkové - Maryša",
                ]
            },
            {
                name: "Naturalismus",
                facts: [
                    "natura znamená příroda",
                    "je součástí realismu",
                    "největší vliv na člověka má dědičnost a prostředí, ve kterém žije",
                    "často ukazuje různé lidi z okraje společnosti (alkoholiky, prostitutky), kteří chtějí žít jinak, ale stejně se jim to nepovede",
                    "Emile Zola - Tereza Raquinová",
                ]
            },
            {
                name: "Literární moderna",
                facts: [
                    "konec 19. století",
                    "moderní umění",
                    "důraz na svobodu umělecké tvorby a subjektivní pocity",
                    "prosazuje se volný verš",
                    "nejvýznamnější americký básník 19. století",
                ]
            },
            {
                name: "Symbolismus",
                facts: [
                    "symbol je znak, který něco zastupuje",
                    "součást moderny",
                    "vyjádření pomocí symbolů (znaků, náznaků, obrazných pojmenování)",
                    "proti racionalismu",
                    "abstraktní a skryté představy",
                    "Charles Baudelaire - Zdechlina",
                    "Walt Whitman - Stébla trávy",
                    "Arthur Rimbaud - Opilý koráb",
                ]
            },
            {
                name: "Impresionismus",
                facts: [
                    "impressio znamená dojem",
                    "součást moderny",
                    "zachycení subjektivního dojmu, nálady, neopakovatelné chvíle (smutek, radost), atmosféry okamžiků",
                    "převažuje lyrika",
                    "vzniklo malířství"
                ]
            },
            {
                name: "Dekadence",
                facts: [
                    "dekadanc znamená úpadek",
                    "nálady smutku, skepse, nudy, marnosti, opovržení životem, rozkladu, smrti",
                    "píší o tabuizovaných tématech - erotika, násilí, zlo, Satan",
                    "Oscar Wilde - Obraz Doriana Graye",
                ]
            },
            {
                name: "Májovci",
                facts: [
                    "1858 - vyšel almanach Máj, podle kterého jsou pojmenování",
                    "chtěli do české literatury zavést realismus, protože ten v Evropě zrovna převládal, ale moc jim to nešlo, naukazovali špatné stránky Čechu",
                    "věnovali se sociálním a národnostním problémům",
                    "děj se odehrává v přítomnosti, už se neodehrává v „slavné„ minulosti",
                    "Jan Neruda - Povídky malostranské",
                ]
            },
            {
                name: "Ruchovci",
                facts: [
                    "70. - 80. léta 19. století",
                    "škola národní",
                    "vydávali almanach Ruch - 1. číslo vyšlo 1868 na počest položení základního kamene Národního divadla",
                    "odhodlaně vlastenečtí, literatura se má podřídit národním zájmům",
                    "vlastně novoromantici, důraz na českou historii",
                    "překládali hlavně ze slovanských literatur",
                    "Josef Václav Sládek - Velké, širé, rodné lány",
                    "Svatopluk Čech - broučkiády",
                ]
            },
            {
                name: "Lumírovci",
                facts: [
                    "70. a 80. léta 19. století",
                    "vydávali časopis Lumír",
                    "škola kosmopolitní",
                    "literatura nemá sloužit národním zájmům a měla by sledovat světový vývoj",
                    "požadovali uměleckou svobodu",
                    "překládali z anglosaských a románských literatur",
                    "Jaroslav Vrchlický - Noc na Karlštejně",
                ]
            }
        ];


        let currentDirection = null;
        let correctCount = 0;
        let incorrectCount = 0;
        let selectedDirections = directions; // Výchozí seznam směrů
        let previousDirectionsQueue = []; // Fronta pro sledování předchozích směrů
        let factCount = 2;

        // Přidáno: Nastavení rozsahu směrů
        function setDirectionRange() {
            const start = parseInt(document.getElementById("startRange").value, 10);
            const end = parseInt(document.getElementById("endRange").value, 10);

            if (start >= 1 && end <= directions.length && start < end) {
                selectedDirections = directions.slice(start - 1, end);
                currentDirection = getNextDirection();
                displayDirectionInfo(currentDirection);
            } else if (start === end) {
                alert("Začátek a konec rozsahu se nesmí rovnat!");
            } else {
                alert("Zadejte platný rozsah!");
            }
        }

        function updateRangeNames() {
            const start = parseInt(document.getElementById("startRange").value, 10);
            const end = parseInt(document.getElementById("endRange").value, 10);
            const startName = (directions[start-1] && directions[start-1].name) ? directions[start-1].name : "";
            const endName = (directions[end-1] && directions[end-1].name) ? directions[end-1].name : "";
            document.getElementById("startName").textContent = startName ? `${startName}` : "";
            document.getElementById("endName").textContent = endName ? `${endName}` : "";
        }
        document.getElementById("startRange").addEventListener("input", updateRangeNames);
        document.getElementById("endRange").addEventListener("input", updateRangeNames);
        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("maxDirections").textContent = directions.length;
            updateRangeNames();
        });

        function getNextDirection() {
            const maxQueueLength = Math.ceil(selectedDirections.length / 2); // Dynamická délka fronty
            let dir;
            do {
                dir = selectedDirections[Math.floor(Math.random() * selectedDirections.length)];
            } while (previousDirectionsQueue.includes(dir) && selectedDirections.length > 4);

            // Přidáme směr do fronty a udržujeme maximální délku
            previousDirectionsQueue.push(dir);
            if (previousDirectionsQueue.length > maxQueueLength) {
                previousDirectionsQueue.shift(); // Odstraní nejstarší směr z fronty
            }

            return dir;
        }

        function getRandomFacts(facts, count) {
            const shuffled = facts.slice().sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        document.getElementById("factCount").addEventListener("input", function (e) {
            let val = parseInt(e.target.value, 10);
            if (val >= 1 && val <= 10) {
                factCount = val;
                displayDirectionInfo(currentDirection);
            }
        });

        function displayDirectionInfo(dir) {
            const factElement = document.getElementById("fact");
            factElement.innerHTML = "";
            const factList = document.createElement("ul");
            const randomFacts = getRandomFacts(dir.facts, factCount);
            randomFacts.forEach(fact => {
                const listItem = document.createElement("li");
                listItem.textContent = fact;
                factList.appendChild(listItem);
            });
            if (dir.mainWorks) {
                const mainWorksItem = document.createElement("li");
                mainWorksItem.textContent = dir.mainWorks;
                factList.appendChild(mainWorksItem);
            }
            factElement.appendChild(factList);
        }

        function checkAnswer() {
            const userAnswer = normalizeString(document.getElementById("directionInput").value.trim());
            const correctAnswer = normalizeString(currentDirection.name);
            const alternativeAnswer = normalizeString(currentDirection.name.split(" (")[0]); // Jméno bez závorky
            const result = document.getElementById("result");

            if (userAnswer === correctAnswer || userAnswer === alternativeAnswer) {
                result.textContent = "Správně!";
                result.className = "correct";
                correctCount++;
                document.getElementById("correctCount").textContent = correctCount;

                // --- Změna: přidání/aktualizace počtu správných odpovědí ---
                const correctList = document.getElementById("correctAnswersList");
                let found = false;
                for (let li of correctList.children) {
                    if (li.dataset.name === currentDirection.name) {
                        let count = parseInt(li.dataset.count, 10) + 1;
                        li.dataset.count = count;
                        li.textContent = `${currentDirection.name} (${count}×)`;
                        found = true;
                        break;
                    }
                }
                if (!found) {
                    const listItem = document.createElement("li");
                    listItem.textContent = `${currentDirection.name} (1×)`;
                    listItem.dataset.name = currentDirection.name;
                    listItem.dataset.count = "1";
                    correctList.appendChild(listItem);
                }
                // --- konec změny ---
            } else {
                result.textContent = `Špatně! Správná odpověď: ${currentDirection.name}`;
                result.className = "incorrect";
                incorrectCount++;
                document.getElementById("incorrectCount").textContent = incorrectCount;
            }

            document.getElementById("directionInput").value = "";
            currentDirection = getNextDirection();
            displayDirectionInfo(currentDirection);
        }

        function checkEnter(e) {
            if (e.key === "Enter") checkAnswer();
        }

        // Načtení první otázky
        currentDirection = getNextDirection();
        displayDirectionInfo(currentDirection);
    </script>
</body>

</html>